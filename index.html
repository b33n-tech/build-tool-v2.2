<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>KPI Builder V4.2</title>
<link rel="stylesheet" href="style.css" />
<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<div id="sidebar">
  <h2 id="sidebar-title">Cr√©er un KPI</h2>

  <label>Upload CSV/XLSX</label>
  <input type="file" id="file-input" accept=".csv,.xlsx" />

  <label>Nom du KPI</label>
  <input type="text" id="kpi-name" placeholder="Nom du KPI" />

  <label>Type de calcul</label>
  <select id="kpi-type">
    <option value="">Type de calcul</option>
    <option value="sum">Somme</option>
    <option value="avg">Moyenne</option>
    <option value="min">Min</option>
    <option value="max">Max</option>
  </select>

  <label>Colonne source</label>
  <select id="kpi-column">
    <option value="">S√©lectionner une colonne</option>
  </select>

  <label>Type de graphique</label>
  <select id="kpi-chart">
    <option value="">Aucun</option>
    <option value="bar">Barre</option>
    <option value="pie">Camembert</option>
  </select>

  <label>Taille du bloc</label>
  <select id="kpi-size">
    <option value="small">Small (1x1)</option>
    <option value="medium">Medium (2x1)</option>
    <option value="large">Large (2x2)</option>
  </select>

  <div style="display:flex; gap:10px; margin-top:6px;">
    <button id="save-btn">Ajouter / Mettre √† jour KPI</button>
    <button id="delete-btn" style="display:none;">üóëÔ∏è Supprimer</button>
  </div>
  <div style="margin-top:12px; font-size:0.85rem; color:#bcdfe0">
    Cliquez sur une brique pour l'√©diter dans la sidebar.
  </div>
</div>

<div id="dashboard">
  <h1>Dashboard Lego KPI</h1>
  <div id="kpiContainer"></div>
</div>

<script src="script.js"></script>
</body>
</html>
